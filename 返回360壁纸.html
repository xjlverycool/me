<!DOCTYPE html>
<html lang="zh-CN">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>360壁纸精选</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
	<script>
		tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#3B82F6',
            secondary: '#F97316',
            neutral: {
              100: '#F3F4F6',
              200: '#E5E7EB',
              300: '#D1D5DB',
              400: '#9CA3AF',
              500: '#6B7280',
              600: '#4B5563',
              700: '#374151',
              800: '#1F2937',
              900: '#111827',
            }
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
	</script>
	<style type="text/tailwindcss">
		@layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .image-card {
        transition: all 0.3s ease;
      }
      .image-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }
      .skeleton-loading {
        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
        background-size: 200% 100%;
        animation: loading 1.5s infinite;
      }
      @keyframes loading {
        0% { background-position: 200% 0; }
        100% { background-position: -200% 0; }
      }
    }
  </style>
</head>

<body class="font-inter bg-neutral-100 text-neutral-800 min-h-screen flex flex-col">
	<!-- 导航栏 -->
	<header class="bg-white shadow-md fixed w-full z-50">
		<div class="container mx-auto px-4 py-3 flex justify-between items-center">
			<div class="flex items-center space-x-2">
				<i class="fa fa-picture-o text-primary text-2xl"></i>
				<h1 class="text-xl font-bold text-neutral-800">360壁纸精选</h1>
			</div>

			<nav class="hidden md:flex space-x-8">
				<a href="#gallery" class="text-neutral-600 hover:text-primary transition-colors">壁纸画廊</a>
				<a href="#featured" class="text-neutral-600 hover:text-primary transition-colors">精选推荐</a>
				<a href="#about" class="text-neutral-600 hover:text-primary transition-colors">关于</a>
			</nav>

			<div class="flex items-center space-x-4">
				<button class="hidden md:block bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg transition-colors">
          <i class="fa fa-refresh mr-2"></i>刷新壁纸
        </button>
				<button class="md:hidden text-neutral-700 text-xl" id="mobile-menu-button">
          <i class="fa fa-bars"></i>
        </button>
			</div>
		</div>

		<!-- 移动端菜单 -->
		<div class="md:hidden bg-white shadow-lg absolute w-full left-0 top-full transform -translate-y-full opacity-0 transition-all duration-300 pointer-events-none"
			id="mobile-menu">
			<div class="container mx-auto px-4 py-3 flex flex-col space-y-4">
				<a href="#gallery" class="text-neutral-600 hover:text-primary py-2 border-b border-neutral-200">壁纸画廊</a>
				<a href="#featured"
					class="text-neutral-600 hover:text-primary py-2 border-b border-neutral-200">精选推荐</a>
				<a href="#about" class="text-neutral-600 hover:text-primary py-2">关于</a>
				<button class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg transition-colors">
          <i class="fa fa-refresh mr-2"></i>刷新壁纸
        </button>
			</div>
		</div>
	</header>

	<!-- 主内容区 -->
	<main class="flex-grow pt-20">
		<!-- 英雄区 -->
		<section class="relative h-[50vh] min-h-[300px] bg-neutral-800 overflow-hidden">
			<div class="absolute inset-0 opacity-70">
				<img src="https://picsum.photos/1920/1080?random=1" alt="背景图" class="w-full h-full object-cover">
			</div>
			<div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent flex items-center">
				<div class="container mx-auto px-4 text-white">
					<h2 class="text-[clamp(1.8rem,4vw,3rem)] font-bold leading-tight mb-4">
						发现高质量<span class="text-primary">桌面壁纸</span></h2>
					<p class="text-[clamp(1rem,2vw,1.25rem)] text-neutral-200 max-w-2xl mb-8">
						从360壁纸API获取的精选高清壁纸，满足你的个性化需求。支持一键下载，方便快捷。</p>
					<button id="fetch-wallpapers" class="bg-primary hover:bg-primary/90 text-white px-6 py-3 rounded-lg transition-all transform hover:scale-105 flex items-center">
            <i class="fa fa-download mr-2"></i>获取壁纸
          </button>
				</div>
			</div>
		</section>

		<!-- 壁纸画廊区 -->
		<section id="gallery" class="py-16 bg-neutral-100">
			<div class="container mx-auto px-4">
				<div class="text-center mb-12">
					<h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-neutral-800 mb-4">壁纸画廊</h2>
					<p class="text-neutral-600 max-w-2xl mx-auto">浏览并下载精选的高清壁纸，所有壁纸均来自360壁纸API。</p>
				</div>

				<div class="flex justify-center mb-8">
					<button id="download-all" class="bg-secondary hover:bg-secondary/90 text-white px-6 py-3 rounded-lg transition-all transform hover:scale-105 flex items-center disabled:opacity-50 disabled:cursor-not-allowed" disabled>
            <i class="fa fa-download mr-2"></i>一键下载全部
          </button>
				</div>

				<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"
					id="wallpaper-container">
					<!-- 壁纸卡片将通过JavaScript动态生成 -->
					<div class="col-span-full text-center py-12">
						<div class="inline-flex items-center">
							<i class="fa fa-arrow-down text-primary text-2xl mr-3"></i>
							<span class="text-lg text-neutral-600">点击上方"获取壁纸"按钮加载壁纸</span>
						</div>
					</div>
				</div>
			</div>
		</section>

		<!-- 精选推荐区 -->
		<section id="featured" class="py-16 bg-white">
			<div class="container mx-auto px-4">
				<div class="text-center mb-12">
					<h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-neutral-800 mb-4">精选推荐</h2>
					<p class="text-neutral-600 max-w-2xl mx-auto">我们精心挑选的高质量壁纸，为你的桌面增添色彩。</p>
				</div>

				<div class="grid grid-cols-1 md:grid-cols-2 gap-8" id="featured-container">
					<!-- 精选壁纸将通过JavaScript动态生成 -->
				</div>
			</div>
		</section>

		<!-- 关于区 -->
		<section id="about" class="py-16 bg-neutral-100">
			<div class="container mx-auto px-4">
				<div class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
					<div>
						<h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-neutral-800 mb-6">关于我们的壁纸服务</h2>
						<p class="text-neutral-600 mb-6">我们提供的所有壁纸均来自360壁纸API，保证高质量和丰富的种类。你可以根据自己的喜好选择不同分辨率的壁纸。</p>
						<p class="text-neutral-600 mb-6">所有壁纸均为免费下载，无需注册，方便快捷。如果你喜欢我们的服务，请分享给你的朋友。</p>
						<div class="flex flex-wrap gap-4 mt-8">
							<div class="flex items-center">
								<div
									class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mr-4">
									<i class="fa fa-image text-xl"></i>
								</div>
								<div>
									<h3 class="font-semibold text-neutral-800">10,000+</h3>
									<p class="text-sm text-neutral-500">高清壁纸</p>
								</div>
							</div>
							<div class="flex items-center">
								<div
									class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mr-4">
									<i class="fa fa-refresh text-xl"></i>
								</div>
								<div>
									<h3 class="font-semibold text-neutral-800">每日更新</h3>
									<p class="text-sm text-neutral-500">保持新鲜</p>
								</div>
							</div>
							<div class="flex items-center">
								<div
									class="w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center text-primary mr-4">
									<i class="fa fa-download text-xl"></i>
								</div>
								<div>
									<h3 class="font-semibold text-neutral-800">免费使用</h3>
									<p class="text-sm text-neutral-500">无需注册</p>
								</div>
							</div>
						</div>
					</div>
					<div class="relative">
						<div class="rounded-2xl overflow-hidden shadow-xl">
							<img src="https://picsum.photos/600/400?random=2" alt="关于我们" class="w-full h-[400px] object-cover">
						</div>
						<div class="absolute -bottom-6 -left-6 bg-white p-4 rounded-lg shadow-lg max-w-[200px]">
							<div class="flex items-center mb-2">
								<i class="fa fa-quote-left text-primary mr-2"></i>
								<p class="text-sm font-medium text-neutral-700">用户评价</p>
							</div>
							<p class="text-sm text-neutral-600 italic">"这个壁纸网站太棒了！图片质量高，下载方便，每天都有新内容。"</p>
							<div class="flex mt-2 text-primary">
								<i class="fa fa-star"></i>
								<i class="fa fa-star"></i>
								<i class="fa fa-star"></i>
								<i class="fa fa-star"></i>
								<i class="fa fa-star"></i>
							</div>
						</div>
					</div>
				</div>
			</div>
		</section>
	</main>

	<!-- 页脚 -->
	<footer class="bg-neutral-800 text-white py-12">
		<div class="container mx-auto px-4">
			<div class="grid grid-cols-1 md:grid-cols-4 gap-8">
				<div>
					<div class="flex items-center space-x-2 mb-6">
						<i class="fa fa-picture-o text-primary text-2xl"></i>
						<h3 class="text-xl font-bold">360壁纸精选</h3>
					</div>
					<p class="text-neutral-400 mb-6">发现高质量的桌面壁纸，满足你的个性化需求。</p>
					<div class="flex space-x-4">
						<a href="#" class="text-neutral-400 hover:text-primary transition-colors">
							<i class="fa fa-facebook"></i>
						</a>
						<a href="#" class="text-neutral-400 hover:text-primary transition-colors">
							<i class="fa fa-twitter"></i>
						</a>
						<a href="#" class="text-neutral-400 hover:text-primary transition-colors">
							<i class="fa fa-instagram"></i>
						</a>
						<a href="#" class="text-neutral-400 hover:text-primary transition-colors">
							<i class="fa fa-pinterest"></i>
						</a>
					</div>
				</div>

				<div>
					<h4 class="text-lg font-semibold mb-4">快速链接</h4>
					<ul class="space-y-2">
						<li><a href="#gallery" class="text-neutral-400 hover:text-primary transition-colors">壁纸画廊</a>
						</li>
						<li><a href="#featured" class="text-neutral-400 hover:text-primary transition-colors">精选推荐</a>
						</li>
						<li><a href="#about" class="text-neutral-400 hover:text-primary transition-colors">关于我们</a></li>
						<li><a href="#" class="text-neutral-400 hover:text-primary transition-colors">使用条款</a></li>
					</ul>
				</div>

				<div>
					<h4 class="text-lg font-semibold mb-4">资源</h4>
					<ul class="space-y-2">
						<li><a href="#" class="text-neutral-400 hover:text-primary transition-colors">API文档</a></li>
						<li><a href="#" class="text-neutral-400 hover:text-primary transition-colors">壁纸分类</a></li>
						<li><a href="#" class="text-neutral-400 hover:text-primary transition-colors">常见问题</a></li>
						<li><a href="#" class="text-neutral-400 hover:text-primary transition-colors">联系我们</a></li>
					</ul>
				</div>

				<div>
					<h4 class="text-lg font-semibold mb-4">联系我们</h4>
					<ul class="space-y-2">
						<li class="flex items-start">
							<i class="fa fa-map-marker text-primary mt-1 mr-3"></i>
							<span class="text-neutral-400">北京市朝阳区创意园A座501室</span>
						</li>
						<li class="flex items-center">
							<i class="fa fa-envelope text-primary mr-3"></i>
							<a href="mailto:info@360wallpaper.com"
								class="text-neutral-400 hover:text-primary transition-colors">info@360wallpaper.com</a>
						</li>
						<li class="flex items-center">
							<i class="fa fa-phone text-primary mr-3"></i>
							<a href="tel:+8610123456789"
								class="text-neutral-400 hover:text-primary transition-colors">+86 (10) 1234-5678</a>
						</li>
					</ul>
				</div>
			</div>

			<div class="border-t border-neutral-700 mt-12 pt-8 text-center text-neutral-500 text-sm">
				<p>&copy; 2025 360壁纸精选. 保留所有权利。</p>
			</div>
		</div>
	</footer>

	<!-- 图片查看模态框 -->
	<div id="image-modal"
		class="fixed inset-0 bg-black/90 z-50 flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
		<div class="max-w-6xl w-full mx-4 relative">
			<button id="close-modal" class="absolute -top-12 right-0 text-white hover:text-neutral-300 transition-colors">
        <i class="fa fa-times text-2xl"></i>
      </button>
			<div class="bg-white rounded-lg overflow-hidden">
				<div class="p-4 flex justify-between items-center border-b border-neutral-200">
					<h3 id="modal-title" class="text-lg font-semibold text-neutral-800">壁纸详情</h3>
					<div class="flex space-x-3">
						<button id="modal-download" class="text-neutral-600 hover:text-primary transition-colors">
              <i class="fa fa-download mr-1"></i> 下载
            </button>
						<button class="text-neutral-600 hover:text-primary transition-colors">
              <i class="fa fa-heart-o"></i>
            </button>
						<button class="text-neutral-600 hover:text-primary transition-colors">
              <i class="fa fa-share-alt"></i>
            </button>
					</div>
				</div>
				<div class="p-4">
					<div class="relative">
						<img id="modal-image" src="" alt="壁纸大图" class="w-full h-auto max-h-[70vh] object-contain">
					</div>
					<div class="mt-4 grid grid-cols-1 md:grid-cols-2 gap-6">
						<div>
							<h4 class="text-base font-medium text-neutral-800 mb-3">壁纸信息</h4>
							<div class="space-y-2">
								<div class="flex">
									<span class="text-neutral-600 w-24">分辨率:</span>
									<span id="modal-resolution" class="font-medium text-neutral-800">1920x1080</span>
								</div>
								<div class="flex">
									<span class="text-neutral-600 w-24">标签:</span>
									<span id="modal-tag" class="font-medium text-neutral-800">风景, 自然, 山水</span>
								</div>
								<div class="flex">
									<span class="text-neutral-600 w-24">来源:</span>
									<span class="font-medium text-neutral-800">360壁纸API</span>
								</div>
							</div>
						</div>
						<div>
							<h4 class="text-base font-medium text-neutral-800 mb-3">下载选项</h4>
							<div class="space-y-2">
								<button class="download-option w-full bg-primary/10 hover:bg-primary/20 text-primary py-2 px-4 rounded-lg transition-colors flex justify-between">
                  <span>原图</span>
                  <span id="modal-original-size" class="text-sm">1920x1080</span>
                </button>
								<button class="download-option w-full bg-primary/10 hover:bg-primary/20 text-primary py-2 px-4 rounded-lg transition-colors flex justify-between">
                  <span>1920x1080</span>
                  <span class="text-sm">全高清</span>
                </button>
								<button class="download-option w-full bg-primary/10 hover:bg-primary/20 text-primary py-2 px-4 rounded-lg transition-colors flex justify-between">
                  <span>1366x768</span>
                  <span class="text-sm">标准</span>
                </button>
								<button class="download-option w-full bg-primary/10 hover:bg-primary/20 text-primary py-2 px-4 rounded-lg transition-colors flex justify-between">
                  <span>3840x2160</span>
                  <span class="text-sm">4K超高清</span>
                </button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		// DOM元素
    const fetchButton = document.getElementById('fetch-wallpapers');
    const wallpaperContainer = document.getElementById('wallpaper-container');
    const downloadAllButton = document.getElementById('download-all');
    const imageModal = document.getElementById('image-modal');
    const closeModalButton = document.getElementById('close-modal');
    const modalImage = document.getElementById('modal-image');
    const modalTitle = document.getElementById('modal-title');
    const modalResolution = document.getElementById('modal-resolution');
    const modalTag = document.getElementById('modal-tag');
    const modalDownloadButton = document.getElementById('modal-download');
    const modalOriginalSize = document.getElementById('modal-original-size');
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const featuredContainer = document.getElementById('featured-container');

    // 壁纸数据存储
    let wallpapers = [];
    let currentWallpaperIndex = 0;

    // 移动端菜单切换
    mobileMenuButton.addEventListener('click', () => {
      if (mobileMenu.classList.contains('opacity-0')) {
        mobileMenu.classList.remove('opacity-0', '-translate-y-full', 'pointer-events-none');
        mobileMenu.classList.add('opacity-100', 'translate-y-0', 'pointer-events-auto');
        mobileMenuButton.innerHTML = '<i class="fa fa-times"></i>';
      } else {
        mobileMenu.classList.add('opacity-0', '-translate-y-full', 'pointer-events-none');
        mobileMenu.classList.remove('opacity-100', 'translate-y-0', 'pointer-events-auto');
        mobileMenuButton.innerHTML = '<i class="fa fa-bars"></i>';
      }
    });

    // 关闭模态框
    function closeModal() {
      imageModal.classList.add('opacity-0', 'pointer-events-none');
      document.body.style.overflow = 'auto';
    }

    closeModalButton.addEventListener('click', closeModal);
    imageModal.addEventListener('click', (e) => {
      if (e.target === imageModal) {
        closeModal();
      }
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !imageModal.classList.contains('opacity-0')) {
        closeModal();
      }
    });

    // 下载单个图片
    function downloadImage(url, filename) {
      const link = document.createElement('a');
      link.href = url;
      link.download = filename;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    // 一键下载全部图片
    async function downloadAllImages() {
      if (wallpapers.length === 0) return;
      
      // 创建一个zip文件
      const zip = new JSZip();
      
      // 为每个壁纸创建一个文件
      for (let i = 0; i < wallpapers.length; i++) {
        const wallpaper = wallpapers[i];
        const response = await fetch(wallpaper.url);
        const blob = await response.blob();
        const filename = `wallpaper_${wallpaper.resolution}_${i+1}.jpg`;
        zip.file(filename, blob);
      }
      
      // 生成并下载zip文件
      zip.generateAsync({ type: 'blob' }).then(content => {
        const link = document.createElement('a');
        link.href = URL.createObjectURL(content);
        link.download = 'wallpapers-pack.zip';
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      });
    }

    // 打开图片模态框
    function openModal(index) {
      if (index >= 0 && index < wallpapers.length) {
        currentWallpaperIndex = index;
        const wallpaper = wallpapers[index];
        
        modalImage.src = wallpaper.url;
        modalTitle.textContent = `壁纸 #${index + 1}`;
        modalResolution.textContent = wallpaper.resolution;
        modalTag.textContent = wallpaper.tag;
        modalOriginalSize.textContent = wallpaper.resolution;
        
        // 设置下载按钮
        modalDownloadButton.onclick = () => {
          downloadImage(wallpaper.url, `wallpaper_${wallpaper.resolution}_${index+1}.jpg`);
        };
        
        // 显示模态框
        imageModal.classList.remove('opacity-0', 'pointer-events-none');
        document.body.style.overflow = 'hidden';
      }
    }

    // 渲染壁纸列表
    function renderWallpapers() {
      wallpaperContainer.innerHTML = '';
      
      if (wallpapers.length === 0) {
        wallpaperContainer.innerHTML = `
          <div class="col-span-full text-center py-12">
            <div class="inline-flex items-center">
              <i class="fa fa-info-circle text-primary text-2xl mr-3"></i>
              <span class="text-lg text-neutral-600">暂无壁纸数据</span>
            </div>
          </div>
        `;
        downloadAllButton.disabled = true;
        return;
      }
      
      downloadAllButton.disabled = false;
      
      wallpapers.forEach((wallpaper, index) => {
        const wallpaperCard = document.createElement('div');
        wallpaperCard.className = 'image-card bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300';
        
        wallpaperCard.innerHTML = `
          <div class="relative aspect-[16/9] overflow-hidden">
            <div class="skeleton-loading w-full h-full"></div>
            <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent opacity-0 hover:opacity-100 transition-opacity duration-300 flex items-end">
              <div class="p-4 w-full">
                <div class="flex justify-between items-center">
                  <div>
                    <h4 class="text-white font-medium">${wallpaper.resolution}</h4>
                    <p class="text-white/80 text-sm">${wallpaper.tag}</p>
                  </div>
                  <button class="download-btn bg-white/20 hover:bg-white/30 backdrop-blur-sm text-white p-2 rounded-full transition-colors">
                    <i class="fa fa-download"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="p-4 flex justify-between items-center">
            <div>
              <h3 class="font-medium text-neutral-800">壁纸 #${index + 1}</h3>
              <p class="text-sm text-neutral-500">${wallpaper.resolution}</p>
            </div>
            <button class="view-btn text-primary hover:text-primary/80 transition-colors">
              <i class="fa fa-eye mr-1"></i> 查看
            </button>
          </div>
        `;
        
        wallpaperContainer.appendChild(wallpaperCard);
        
        // 延迟加载图片
        setTimeout(() => {
          const imgContainer = wallpaperCard.querySelector('.relative');
          const skeleton = imgContainer.querySelector('.skeleton-loading');
          
          const img = new Image();
          img.onload = function() {
            skeleton.remove();
            imgContainer.insertBefore(img, imgContainer.firstChild);
          };
          img.onerror = function() {
            skeleton.remove();
            imgContainer.insertBefore(document.createTextNode('图片加载失败'), imgContainer.firstChild);
          };
          img.src = wallpaper.url;
          img.className = 'w-full h-full object-cover transition-transform duration-500 hover:scale-110';
        }, index * 100);
        
        // 添加点击事件
        const viewBtn = wallpaperCard.querySelector('.view-btn');
        const downloadBtn = wallpaperCard.querySelector('.download-btn');
        
        viewBtn.addEventListener('click', () => openModal(index));
        downloadBtn.addEventListener('click', () => 
          downloadImage(wallpaper.url, `wallpaper_${wallpaper.resolution}_${index+1}.jpg`)
        );
      });
    }

    // 渲染精选壁纸
    function renderFeaturedWallpapers() {
      if (wallpapers.length === 0) return;
      
      // 随机选择2张壁纸作为精选
      const featuredIndices = [];
      while (featuredIndices.length < 2 && featuredIndices.length < wallpapers.length) {
        const randomIndex = Math.floor(Math.random() * wallpapers.length);
        if (!featuredIndices.includes(randomIndex)) {
          featuredIndices.push(randomIndex);
        }
      }
      
      featuredContainer.innerHTML = '';
      
      featuredIndices.forEach(index => {
        const wallpaper = wallpapers[index];
        const featuredCard = document.createElement('div');
        featuredCard.className = 'image-card bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-2xl transition-all duration-300';
        
        featuredCard.innerHTML = `
          <div class="relative aspect-[16/9] overflow-hidden">
            <div class="skeleton-loading w-full h-full"></div>
            <div class="absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent flex flex-col justify-end p-6">
              <span class="text-primary font-medium text-sm mb-2">精选推荐</span>
              <h3 class="text-white text-xl font-bold mb-1">壁纸 #${index + 1}</h3>
              <p class="text-white/80 text-sm">${wallpaper.resolution} | ${wallpaper.tag}</p>
            </div>
          </div>
          <div class="p-6">
            <p class="text-neutral-600 mb-4">这是一张精心挑选的高质量壁纸，展示了${wallpaper.tag.split(' ').join('、')}的精彩瞬间。适合用于各种设备的桌面背景。</p>
            <div class="flex justify-between items-center">
              <div class="flex items-center">
                <div class="flex -space-x-2">
                  <img src="https://picsum.photos/32/32?random=${index*10+1}" alt="用户头像" class="w-8 h-8 rounded-full border-2 border-white">
                  <img src="https://picsum.photos/32/32?random=${index*10+2}" alt="用户头像" class="w-8 h-8 rounded-full border-2 border-white">
                </div>
                <span class="ml-2 text-sm text-neutral-500">+ ${Math.floor(Math.random() * 100) + 50} 人喜欢</span>
              </div>
              <button class="view-featured-btn bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-lg transition-colors flex items-center">
                <i class="fa fa-eye mr-1"></i> 查看详情
              </button>
            </div>
          </div>
        </div>
        `;
        
        featuredContainer.appendChild(featuredCard);
        
        // 延迟加载图片
        setTimeout(() => {
          const imgContainer = featuredCard.querySelector('.relative');
          const skeleton = imgContainer.querySelector('.skeleton-loading');
          
          const img = new Image();
          img.onload = function() {
            skeleton.remove();
            imgContainer.insertBefore(img, imgContainer.firstChild);
          };
          img.onerror = function() {
            skeleton.remove();
            imgContainer.insertBefore(document.createTextNode('图片加载失败'), imgContainer.firstChild);
          };
          img.src = wallpaper.url;
          img.className = 'w-full h-full object-cover transition-transform duration-500 hover:scale-105';
        }, index * 200);
        
        // 添加点击事件
        const viewBtn = featuredCard.querySelector('.view-featured-btn');
        viewBtn.addEventListener('click', () => openModal(index));
      });
    }

    // 获取壁纸数据
    async function fetchWallpapers() {
      fetchButton.innerHTML = '<i class="fa fa-spinner fa-spin mr-2"></i> 加载中...';
      fetchButton.disabled = true;
      wallpaperContainer.innerHTML = `
        <div class="col-span-full text-center py-12">
          <div class="inline-flex items-center">
            <i class="fa fa-spinner fa-spin text-primary text-2xl mr-3"></i>
            <span class="text-lg text-neutral-600">正在获取壁纸数据...</span>
          </div>
        </div>
      `;
      
      try {
        // 使用用户提供的API
        const response = await fetch('https://oiapi.net/API/Wallpaper360');
        const data = await response.json();
        
        if (data.code === 1 && data.data && data.data.length > 0) {
          wallpapers = data.data;
          renderWallpapers();
          renderFeaturedWallpapers();
          
          // 平滑滚动到画廊
          document.getElementById('gallery').scrollIntoView({
            behavior: 'smooth'
          });
        } else {
          wallpaperContainer.innerHTML = `
            <div class="col-span-full text-center py-12">
              <div class="inline-flex items-center">
                <i class="fa fa-exclamation-circle text-red-500 text-2xl mr-3"></i>
                <span class="text-lg text-neutral-600">获取壁纸失败，请稍后再试</span>
              </div>
            </div>
          `;
        }
      } catch (error) {
        console.error('获取壁纸出错:', error);
        wallpaperContainer.innerHTML = `
          <div class="col-span-full text-center py-12">
            <div class="inline-flex items-center">
              <i class="fa fa-exclamation-circle text-red-500 text-2xl mr-3"></i>
              <span class="text-lg text-neutral-600">网络错误，请检查连接</span>
            </div>
          </div>
        `;
      } finally {
        fetchButton.innerHTML = '<i class="fa fa-refresh mr-2"></i>获取壁纸';
        fetchButton.disabled = false;
      }
    }

    // 事件监听
    fetchButton.addEventListener('click', fetchWallpapers);
    downloadAllButton.addEventListener('click', downloadAllImages);
    
    // 为下载选项添加事件监听
    document.addEventListener('click', (e) => {
      if (e.target.classList.contains('download-option') || e.target.parentElement.classList.contains('download-option')) {
        const option = e.target.classList.contains('download-option') ? e.target : e.target.parentElement;
        const resolution = option.querySelector('span:first-child').textContent;
        
        // 这里应该根据选择的分辨率下载对应的图片
        // 简化处理，仍下载原图
        if (currentWallpaperIndex >= 0 && currentWallpaperIndex < wallpapers.length) {
          const wallpaper = wallpapers[currentWallpaperIndex];
          downloadImage(wallpaper.url, `wallpaper_${resolution}_${currentWallpaperIndex+1}.jpg`);
        }
      }
    });

    // 页面加载完成后初始化
    document.addEventListener('DOMContentLoaded', () => {
      // 加载模拟精选壁纸
      renderFeaturedWallpapers();
    });
	</script>
	<!-- 引入JSZip库用于打包下载 -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</body>

</html>